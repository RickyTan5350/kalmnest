classDiagram
    %% Core Entity Classes
    class Role {
        +UUID role_id PK
        +String role_name
    }

    class User {
        +UUID user_id PK
        +String name
        +String email UK
        +String phone_no
        +Text address
        +String gender
        +String password
        +Enum account_status
        +UUID role_id FK
        +String remember_token
        +DateTime created_at
        +DateTime updated_at
    }

    class Class {
        +UUID class_id PK
        +String class_name
        +UUID teacher_id FK
        +Text description
        +UUID admin_id FK
        +DateTime created_at
        +DateTime updated_at
    }

    class Topic {
        +UUID topic_id PK
        +String topic_name
        +DateTime created_at
        +DateTime updated_at
    }

    class Note {
        +UUID note_id PK
        +String title
        +Boolean visibility
        +UUID file_id FK
        +UUID topic_id FK
        +UUID created_by FK
        +DateTime created_at
        +DateTime updated_at
    }

    class File {
        +UUID file_id PK
        +String file_path
        +String type
        +DateTime created_at
        +DateTime updated_at
    }

    class LevelType {
        +UUID level_type_id PK
        +String level_type_name
        +DateTime created_at
        +DateTime updated_at
    }

    class Level {
        +UUID level_id PK
        +String level_name
        +UUID level_type_id FK
        +JSON level_data
        +JSON win_condition
        +UUID created_by FK
        +DateTime created_at
        +DateTime updated_at
    }

    class Achievement {
        +UUID achievement_id PK
        +String achievement_name
        +String title
        +Text description
        +UUID associated_level
        +UUID created_by FK
        +String icon
        +DateTime created_at
        +DateTime updated_at
    }

    class Feedback {
        +UUID feedback_id PK
        +UUID student_id FK
        +UUID teacher_id FK
        +String topic
        +Text comment
        +DateTime created_at
        +DateTime updated_at
    }

    %% Pivot/Junction Tables
    class ClassStudent {
        +UUID class_id PK,FK
        +UUID student_id PK,FK
        +DateTime enrolled_at
    }

    class ClassLevel {
        +UUID class_level_id PK
        +UUID class_id FK
        +UUID level_id FK
        +Boolean is_private
        +DateTime created_at
        +DateTime updated_at
    }

    class AchievementUser {
        +UUID id PK
        +UUID user_id FK
        +UUID achievement_id FK
        +DateTime created_at
        +DateTime updated_at
    }

    class NoteFile {
        +BigInt id PK
        +UUID note_id FK
        +UUID file_id FK
        +DateTime created_at
        +DateTime updated_at
    }

    %% Relationships - One to Many
    Role ||--o{ User : "has"
    User ||--o{ Class : "teaches (teacher_id)"
    User ||--o{ Class : "creates (admin_id)"
    User ||--o{ Note : "creates"
    User ||--o{ Level : "creates"
    User ||--o{ Achievement : "creates"
    User ||--o{ Feedback : "receives (student_id)"
    User ||--o{ Feedback : "gives (teacher_id)"
    Topic ||--o{ Note : "categorizes"
    File ||--o{ Note : "attaches (primary)"
    LevelType ||--o{ Level : "types"

    %% Relationships - Many to Many
    Class }o--o{ User : "enrolls (ClassStudent)"
    Class }o--o{ Level : "assigns (ClassLevel)"
    User }o--o{ Achievement : "earns (AchievementUser)"
    Note }o--o{ File : "attaches (NoteFile)"

    %% Optional Relationship (No FK constraint)
    Level ..> Achievement : "associated_level (optional)"

